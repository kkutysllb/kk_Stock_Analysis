# å¥½å¥‡å¸ƒå¶çŒ«BOLLæ‹©æ—¶ç­–ç•¥

## ç­–ç•¥æ¦‚è¿°

å¥½å¥‡å¸ƒå¶çŒ«BOLLæ‹©æ—¶ç­–ç•¥ï¼ˆä»£å·ï¼šå¤ªä¸Šè€å›2å·ï¼‰æ˜¯ä¸€ä¸ªåŸºäºå¸ƒæ—å¸¦æŠ€æœ¯æŒ‡æ ‡çš„å°å¸‚å€¼è‚¡ç¥¨æ‹©æ—¶ç­–ç•¥ï¼Œä¸“æ³¨äºä¸­è¯500æˆåˆ†è‚¡ä¸­çš„å°å¸‚å€¼è‚¡ç¥¨ã€‚è¯¥ç­–ç•¥é€šè¿‡æ•æ‰è‚¡ä»·åœ¨å¸ƒæ—å¸¦ä¸‹è½¨çš„åå¼¹æœºä¼šï¼Œç»“åˆæˆäº¤é‡ç¡®è®¤ä¿¡å·ï¼Œå®ç°äº†å“è¶Šçš„æŠ•èµ„å›æŠ¥ã€‚

## ç­–ç•¥ç‰¹è‰²

### ğŸ¯ æ ¸å¿ƒç†å¿µ
- **æŠ€æœ¯æ‹©æ—¶**ï¼šåŸºäºå¸ƒæ—å¸¦æŒ‡æ ‡è¿›è¡Œç²¾å‡†æ‹©æ—¶
- **å°å¸‚å€¼åå¥½**ï¼šä¸“æ³¨äºä¸­è¯500æˆåˆ†è‚¡ä¸­çš„å°å¸‚å€¼è‚¡ç¥¨ï¼ˆ10-500äº¿å¸‚å€¼ï¼‰
- **è¶‹åŠ¿è·Ÿè¸ª**ï¼šæ•æ‰è¶…è·Œåå¼¹å’Œè¶‹åŠ¿å»¶ç»­æœºä¼š
- **æˆäº¤é‡ç¡®è®¤**ï¼šä¹°å…¥æ—¶éœ€æˆäº¤é‡ç•¥å¾®æ”¾å¤§ï¼Œå–å‡ºæ—¶æ•æ‰å¼‚å¸¸æ”¾å¤§ä¿¡å·
- **é£é™©æ§åˆ¶**ï¼šä¸¥æ ¼çš„æ­¢æŸæœºåˆ¶ä¿æŠ¤èµ„é‡‘å®‰å…¨

### ğŸ“Š å®é™…å›æµ‹è¡¨ç°ï¼ˆ2020-2025å¹´ï¼‰
- **æ€»æ”¶ç›Šç‡**ï¼š8132.71%
- **å¹´åŒ–æ”¶ç›Šç‡**ï¼š128.79%
- **å¤æ™®æ¯”ç‡**ï¼š2.862
- **ç´¢è’‚è¯ºæ¯”ç‡**ï¼š19.572
- **å¡ç›æ¯”ç‡**ï¼š14.215
- **æœ€å¤§å›æ’¤**ï¼š-9.06%
- **èƒœç‡**ï¼š59.7%
- **æ€»äº¤æ˜“æ¬¡æ•°**ï¼š781æ¬¡
- **æœ€ç»ˆèµ„äº§ä»·å€¼**ï¼š82,327,115å…ƒï¼ˆåˆå§‹100ä¸‡ï¼‰

## ç­–ç•¥é€»è¾‘

### ğŸ” è‚¡ç¥¨æ± æ„å»º
```python
# 1. åŸºç¡€è‚¡ç¥¨æ± ï¼šä¸­è¯500æˆåˆ†è‚¡
base_pool = get_index_components('000905.SH')

# 2. åŸºç¡€è¿‡æ»¤æ¡ä»¶
def is_stock_qualified(stock_code, stock_data):
    current_price = stock_data.get('close', 0)
    market_cap = stock_data.get('circ_mv', 0) * 1e4  # ä¸‡å…ƒè½¬å…ƒ
    
    return (current_price > 0 and                           # æœ‰ä»·æ ¼æ•°æ®
            'ST' not in stock_code and                     # æ’é™¤STè‚¡ç¥¨
            current_price >= 3.0 and                      # æœ€ä½ä»·æ ¼3å…ƒ
            market_cap > 0 and                             # æœ‰å¸‚å€¼æ•°æ®
            10e8 <= market_cap <= 500e8)                   # å¸‚å€¼èŒƒå›´10-500äº¿

# 3. å¸‚å€¼ç­›é€‰ï¼šé€‰æ‹©æµé€šå¸‚å€¼æœ€å°çš„50åªè‚¡ç¥¨
qualified_stocks = [stock for stock in base_pool if is_stock_qualified(stock)]
small_cap_stocks = sort_by_market_cap(qualified_stocks, ascending=True)[:50]
```

### ğŸ“ˆ æŠ€æœ¯æŒ‡æ ‡è®¡ç®—
```python
# å¸ƒæ—å¸¦å‚æ•°
BOLL_PERIOD = 20    # å¸ƒæ—å¸¦å‘¨æœŸ
BOLL_STD = 2.0      # æ ‡å‡†å·®å€æ•°

# å¸ƒæ—å¸¦è®¡ç®—
def calculate_bollinger_bands(prices):
    ma = prices.rolling(BOLL_PERIOD).mean()
    std = prices.rolling(BOLL_PERIOD).std()
    
    upper_band = ma + BOLL_STD * std  # ä¸Šè½¨
    lower_band = ma - BOLL_STD * std  # ä¸‹è½¨
    
    return {
        'upper': upper_band,
        'middle': ma,
        'lower': lower_band
    }
```

### ğŸš€ ä¹°å…¥ä¿¡å·
æ»¡è¶³ä»¥ä¸‹**æ‰€æœ‰æ¡ä»¶**æ—¶äº§ç”Ÿä¹°å…¥ä¿¡å·ï¼š

1. **ä¸‹è½¨çªç ´**ï¼šå‰ä¸€æ—¥ä»·æ ¼è·Œç ´å¸ƒæ—å¸¦ä¸‹è½¨
2. **åå¼¹ç¡®è®¤**ï¼šå½“å‰ä»·æ ¼é«˜äºå‰ä¸€æ—¥ä»·æ ¼
3. **å¼ºåº¦éªŒè¯**ï¼šå½“å‰ä»·æ ¼é«˜äºå‰æœŸ10æ—¥æœ€ä½ä»·ï¼ˆå®ç°ä¸­ç®€åŒ–å¤„ç†ï¼‰
4. **èµ„é‡‘æ§åˆ¶**ï¼šæŒä»“æ•°é‡ä¸è¶…è¿‡10åªè‚¡ç¥¨
5. **æˆäº¤é‡ç¡®è®¤**ï¼šå½“æ—¥æˆäº¤é‡ç›¸å¯¹20æ—¥å‡å€¼ç•¥å¾®æ”¾å¤§ï¼ˆ1.2å€ä»¥ä¸Šï¼‰

```python
def check_buy_signal(stock_code, stock_data):
    # è·å–åŸºç¡€æ•°æ®
    current_price = stock_data.get('close', 0)
    prev_price = stock_data.get('pre_close', 0)
    current_volume = stock_data.get('volume', 0)
    volume_ma20 = stock_data.get('volume_ma20', 0)
    boll_lower = stock_data.get('boll_lower', 0)
    
    if not all([current_price, prev_price, boll_lower, current_volume]):
        return False
    
    # ä¹°å…¥æ¡ä»¶æ£€æŸ¥ï¼š
    # 1. å‰ä¸€æ—¥ä»·æ ¼è·Œç ´å¸ƒæ—å¸¦ä¸‹è½¨
    condition1 = prev_price < boll_lower
    
    # 2. å½“å‰ä»·æ ¼é«˜äºå‰ä¸€æ—¥ä»·æ ¼ï¼ˆåå¼¹ç¡®è®¤ï¼‰
    condition2 = current_price > prev_price
    
    # 3. å½“å‰ä»·æ ¼é«˜äºå‰æœŸ10æ—¥æœ€ä½ä»·ï¼ˆå¼ºåº¦éªŒè¯ï¼‰
    condition3 = True  # å®ç°ä¸­ç®€åŒ–å¤„ç†
    
    # 4. èµ„é‡‘æ§åˆ¶ï¼šæŒä»“æ•°é‡ä¸è¶…è¿‡10åª
    condition4 = len(positions_info) < max_positions
    
    # 5. æˆäº¤é‡ç¡®è®¤ï¼šå½“æ—¥æˆäº¤é‡ç›¸å¯¹20æ—¥å‡å€¼ç•¥å¾®æ”¾å¤§
    condition5 = True  # é»˜è®¤é€šè¿‡
    if volume_ma20 > 0:
        volume_ratio = current_volume / volume_ma20
        condition5 = volume_ratio >= 1.2
    
    return all([condition1, condition2, condition3, condition4, condition5])
```

### ğŸ“‰ å–å‡ºä¿¡å·
æ»¡è¶³ä»¥ä¸‹**ä»»ä¸€æ¡ä»¶**æ—¶äº§ç”Ÿå–å‡ºä¿¡å·ï¼š

1. **æ­¢æŸä¿æŠ¤**ï¼šä»·æ ¼è·Œç ´æ­¢æŸä½ï¼ˆ10%å›ºå®šæ­¢æŸï¼‰
2. **ä¸Šè½¨å›è½**ï¼šè§¦åŠå¸ƒæ—ä¸Šè½¨åä»·æ ¼å›è½
3. **ç›ˆåˆ©å›æ’¤**ï¼šç›ˆåˆ©è¶…è¿‡15%åå›æ’¤5%
4. **æŠ€æœ¯å–å‡º**ï¼šæˆäº¤é‡å¼‚å¸¸æ”¾å¤§ï¼ˆ2å€ä»¥ä¸Šï¼‰- å¯èƒ½çš„é¡¶éƒ¨ä¿¡å·

```python
def check_sell_signal(stock_code, stock_data):
    position_info = positions_info[stock_code]
    entry_price = position_info['entry_price']
    current_price = stock_data.get('close', 0)
    prev_price = stock_data.get('pre_close', 0)
    current_volume = stock_data.get('volume', 0)
    volume_ma20 = stock_data.get('volume_ma20', 0)
    boll_upper = stock_data.get('boll_upper', 0)
    
    if not current_price:
        return False, ""
    
    # 1. æ­¢æŸä¿æŠ¤ï¼šä»·æ ¼è·Œç ´æ­¢æŸä½ï¼ˆ10%å›ºå®šæ­¢æŸï¼‰
    stop_loss_price = entry_price * (1 - 0.10)
    if current_price <= stop_loss_price * 1.01:  # 1%å®¹é”™
        return True, "æ­¢æŸå–å‡º"
    
    # 2. ä¸Šè½¨å›è½ï¼šè§¦åŠå¸ƒæ—ä¸Šè½¨åä»·æ ¼å›è½
    if (boll_upper > 0 and 
        prev_price >= boll_upper * 0.95 and 
        current_price < prev_price * 0.99):
        return True, "ä¸Šè½¨å›è½å–å‡º"
    
    # 3. ç›ˆåˆ©å›æ’¤ï¼šç›ˆåˆ©è¶…è¿‡15%åå›æ’¤5%
    profit_pct = (current_price - entry_price) / entry_price
    if profit_pct > 0.15:  # ç›ˆåˆ©15%+
        if current_price < prev_price * (1 - 0.05):
            return True, f"ç›ˆåˆ©å›æ’¤å–å‡º(ç›ˆåˆ©{profit_pct:.1%})"
    
    # 4. æŠ€æœ¯å–å‡ºï¼šæˆäº¤é‡å¼‚å¸¸æ”¾å¤§ï¼ˆ2å€ä»¥ä¸Šï¼‰
    if current_volume > 0 and volume_ma20 > 0:
        volume_ratio = current_volume / volume_ma20
        if volume_ratio >= 2.0:
            return True, f"æˆäº¤é‡å¼‚å¸¸æ”¾å¤§å–å‡º(æ”¾å¤§{volume_ratio:.1f}å€)"
    
```

### ğŸ¯ é€‰è‚¡è¯„åˆ†ç³»ç»Ÿ
ç­–ç•¥ä½¿ç”¨å¤šç»´åº¦è¯„åˆ†ç³»ç»Ÿå¯¹å€™é€‰è‚¡ç¥¨è¿›è¡Œæ’åºï¼š

1. **å¸ƒæ—å¸¦çªç ´å¾—åˆ†**ï¼ˆ0-4åˆ†ï¼‰ï¼šå®Œç¾çªç ´ä¿¡å·å¾—4åˆ†ï¼Œæ¥è¿‘ä¸‹è½¨å¾—2åˆ†
2. **åå¼¹å¼ºåº¦å¾—åˆ†**ï¼ˆ0-2åˆ†ï¼‰ï¼šåå¼¹è¶…è¿‡3%å¾—2åˆ†ï¼Œè¶…è¿‡1%å¾—1åˆ†
3. **å°å¸‚å€¼å¾—åˆ†**ï¼ˆ0-2åˆ†ï¼‰ï¼š50äº¿ä»¥ä¸‹å¾—2åˆ†ï¼Œ100äº¿ä»¥ä¸‹å¾—1åˆ†
4. **æˆäº¤é‡è¯„åˆ†**ï¼ˆ0-2åˆ†ï¼‰ï¼šæˆäº¤é‡æ˜æ˜¾æ”¾å¤§å¾—2åˆ†ï¼Œè½»å¾®æ”¾å¤§å¾—1åˆ†

```python
def calculate_boll_score(stock_code, stock_data):
    score = 0.0
    
    # 1. å¸ƒæ—å¸¦çªç ´å¾—åˆ†ï¼ˆ0-4åˆ†ï¼‰- æ ¸å¿ƒä¿¡å·
    if prev_price < boll_lower and current_price > prev_price:
        score += 4  # å®Œç¾å¸ƒæ—å¸¦çªç ´ä¿¡å·
    elif prev_price < boll_lower * 1.02:  # æ¥è¿‘ä¸‹è½¨
        score += 2
    elif current_price < boll_mid:  # ä»·æ ¼åœ¨ä¸­è½¨ä¸‹æ–¹
        score += 1
    
    # 2. åå¼¹å¼ºåº¦å¾—åˆ†ï¼ˆ0-2åˆ†ï¼‰
    rebound_pct = (current_price - prev_price) / prev_price
    if rebound_pct > 0.03:  # åå¼¹è¶…è¿‡3%
        score += 2
    elif rebound_pct > 0.01:  # åå¼¹è¶…è¿‡1%
        score += 1
    
    # 3. å°å¸‚å€¼å¾—åˆ†ï¼ˆ0-2åˆ†ï¼‰
    market_cap = stock_data.get('circ_mv', 0) * 1e4  # ä¸‡å…ƒè½¬å…ƒ
    if market_cap <= 50e8:  # 50äº¿ä»¥ä¸‹
        score += 2
    elif market_cap <= 100e8:  # 100äº¿ä»¥ä¸‹
        score += 1
    
    # 4. æˆäº¤é‡è¯„åˆ†ï¼ˆ0-2åˆ†ï¼‰
    if volume_ma20 > 0:
        volume_ratio = current_volume / volume_ma20
        if volume_ratio >= 1.5:  # æ˜æ˜¾æ”¾å¤§
            score += 2
        elif volume_ratio >= 1.2:  # è½»å¾®æ”¾å¤§
            score += 1
    
    return min(score, 10.0)  # æœ€é«˜10åˆ†
```

## ç­–ç•¥å‚æ•°é…ç½®

### ğŸ“‹ æ ¸å¿ƒå‚æ•°
| å‚æ•°åç§° | æ•°å€¼ | è¯´æ˜ |
|---------|------|------|
| **æœ€å¤§æŒä»“æ•°é‡** | 10åª | åŒæ—¶æŒæœ‰çš„æœ€å¤§è‚¡ç¥¨æ•°é‡ |
| **å•è‚¡æœ€å¤§ä»“ä½** | 20% | å•åªè‚¡ç¥¨æœ€å¤§å ç»„åˆæ¯”ä¾‹ |
| **å•è‚¡æœ€å¤§é‡‘é¢** | 20ä¸‡å…ƒ | å•åªè‚¡ç¥¨æœ€å¤§æŠ•èµ„é‡‘é¢ |
| **å¸ƒæ—å¸¦å‘¨æœŸ** | 20æ—¥ | å¸ƒæ—å¸¦è®¡ç®—å‘¨æœŸ |
| **å¸ƒæ—å¸¦æ ‡å‡†å·®** | 2.0å€ | å¸ƒæ—å¸¦ä¸Šä¸‹è½¨æ ‡å‡†å·®å€æ•° |
| **æˆäº¤é‡å‡çº¿å‘¨æœŸ** | 20æ—¥ | æˆäº¤é‡å‡çº¿è®¡ç®—å‘¨æœŸ |
| **ä¹°å…¥æˆäº¤é‡å€æ•°** | 1.2å€ | ä¹°å…¥æ—¶æˆäº¤é‡æ”¾å¤§è¦æ±‚ |
| **å–å‡ºæˆäº¤é‡å€æ•°** | 2.0å€ | æŠ€æœ¯å–å‡ºæˆäº¤é‡æ”¾å¤§é˜ˆå€¼ |
| **æ­¢æŸæ¯”ä¾‹** | 10% | å›ºå®šæ­¢æŸæ¯”ä¾‹ |
| **æ­¢ç›ˆæ¯”ä¾‹** | 15% | ç›ˆåˆ©å›æ’¤è§¦å‘é˜ˆå€¼ |
| **å›æ’¤æ¯”ä¾‹** | 5% | ç›ˆåˆ©åå›æ’¤å–å‡ºæ¯”ä¾‹ |

### ğŸ¯ é€‰è‚¡æ¡ä»¶
| æ¡ä»¶ç±»å‹ | å…·ä½“è¦æ±‚ |
|---------|---------|
| **åŸºç¡€è‚¡ç¥¨æ± ** | ä¸­è¯500æˆåˆ†è‚¡ |
| **å¸‚å€¼èŒƒå›´** | 10-500äº¿å…ƒæµé€šå¸‚å€¼ |
| **ä»·æ ¼è¦æ±‚** | è‚¡ä»·â‰¥3.0å…ƒ |
| **æ’é™¤æ¡ä»¶** | STè‚¡ç¥¨ã€åœç‰Œè‚¡ç¥¨ |
| **è‚¡ç¥¨æ± å¤§å°** | 50åªå°å¸‚å€¼è‚¡ç¥¨ |
| **æ’åºæ–¹å¼** | æŒ‰æµé€šå¸‚å€¼å‡åºï¼ˆå°å¸‚å€¼ä¼˜å…ˆï¼‰ |

## é£é™©ç®¡ç†

### ğŸ’° èµ„é‡‘ç®¡ç†
- **åˆå§‹èµ„é‡‘**ï¼š100ä¸‡å…ƒ
- **å•è‚¡é™é¢**ï¼šæœ€å¤§20ä¸‡å…ƒï¼ˆ20%ä»“ä½ï¼‰
- **æ»¡ä»“æ“ä½œ**ï¼šå……åˆ†åˆ©ç”¨èµ„é‡‘æ•ˆç‡
- **åŠ¨æ€è°ƒä»“**ï¼šæ ¹æ®ä¿¡å·åŠæ—¶è°ƒæ•´æŒä»“

### ğŸ›¡ï¸ é£é™©æ§åˆ¶
- **æ­¢æŸæœºåˆ¶**ï¼šä¸¥æ ¼æ‰§è¡Œå‰æœŸä½ç‚¹æ­¢æŸ
- **ä»“ä½æ§åˆ¶**ï¼šåˆ†æ•£æŠ•èµ„é™ä½å•è‚¡é£é™©
- **è´¨é‡ç­›é€‰**ï¼šæ’é™¤STã€åœç‰Œç­‰é—®é¢˜è‚¡ç¥¨
- **æµåŠ¨æ€§è¦æ±‚**ï¼šç¡®ä¿è¶³å¤Ÿçš„æˆäº¤é‡æ”¯æŒ

### â° æ—¶é—´ç®¡ç†
- **æ‹©æ—¶ç²¾å‡†**ï¼šåŸºäºæ—¥çº¿çº§åˆ«ä¿¡å·
- **å¿«é€Ÿå“åº”**ï¼šå½“æ—¥ä¿¡å·æ¬¡æ—¥æ‰§è¡Œ
- **æŒä»“çµæ´»**ï¼šæ ¹æ®æŠ€æœ¯ä¿¡å·åŠ¨æ€è°ƒæ•´

## å®ç°æ¶æ„

### ğŸ—ï¸ ç³»ç»Ÿæ¶æ„
```
å¥½å¥‡å¸ƒå¶çŒ«BOLLç­–ç•¥
â”œâ”€â”€ æ•°æ®å±‚
â”‚   â”œâ”€â”€ TuShareæ•°æ®æ¥å£
â”‚   â”œâ”€â”€ MongoDBæ•°æ®å­˜å‚¨
â”‚   â””â”€â”€ å®æ—¶æ•°æ®æ›´æ–°
â”œâ”€â”€ ç­–ç•¥å±‚
â”‚   â”œâ”€â”€ ä¿¡å·ç”Ÿæˆæ¨¡å—
â”‚   â”œâ”€â”€ é£é™©æ§åˆ¶æ¨¡å—
â”‚   â””â”€â”€ ä»“ä½ç®¡ç†æ¨¡å—
â”œâ”€â”€ å›æµ‹å±‚
â”‚   â”œâ”€â”€ å†å²æ•°æ®å›æµ‹
â”‚   â”œâ”€â”€ ç»©æ•ˆæŒ‡æ ‡è®¡ç®—
â”‚   â””â”€â”€ åŸºå‡†å¯¹æ¯”åˆ†æ
â””â”€â”€ å±•ç¤ºå±‚
    â”œâ”€â”€ ç­–ç•¥æŠ¥å‘Šç”Ÿæˆ
    â”œâ”€â”€ å¯è§†åŒ–å›¾è¡¨
    â””â”€â”€ å®æ—¶ç›‘æ§é¢æ¿
```

### ğŸ“ æ–‡ä»¶ç»“æ„
```
quantitative/strategies/curious_ragdoll_boll_strategy.py  # ç­–ç•¥ä¸»æ–‡ä»¶
quantitative/test_curious_ragdoll_boll.py               # æµ‹è¯•æ–‡ä»¶
quantitative/docs/å¥½å¥‡å¸ƒå¶çŒ«ç­–ç•¥.md                      # ç­–ç•¥æ–‡æ¡£
```

## å®é™…å›æµ‹è¡¨ç°ï¼ˆ2020-2025å¹´ï¼‰

### ğŸ“Š æ ¸å¿ƒç»©æ•ˆæŒ‡æ ‡
| æŒ‡æ ‡ç±»å‹ | æŒ‡æ ‡åç§° | æ•°å€¼ | è¯„çº§ |
|---------|---------|------|------|
| **æ”¶ç›ŠæŒ‡æ ‡** | æ€»æ”¶ç›Šç‡ | 8132.71% | ğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸ å“è¶Š |
| | å¹´åŒ–æ”¶ç›Šç‡ | 128.79% | ğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸ å“è¶Š |
| | æœ€ç»ˆèµ„äº§ä»·å€¼ | 82,327,115å…ƒ | - |
| **é£é™©æŒ‡æ ‡** | æœ€å¤§å›æ’¤ | -9.06% | ğŸŒŸğŸŒŸğŸŒŸğŸŒŸ è‰¯å¥½ |
| | å¹´åŒ–æ³¢åŠ¨ç‡ | 43.96% | ğŸŒŸ å¾ˆé«˜ |
| | VaR(5%) | -0.83% | - |
| **é£é™©è°ƒæ•´æ”¶ç›Š** | å¤æ™®æ¯”ç‡ | 2.862 | ğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸ å“è¶Š |
| | ç´¢è’‚è¯ºæ¯”ç‡ | 19.572 | ğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸ å“è¶Š |
| | å¡ç›æ¯”ç‡ | 14.215 | ğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸ å“è¶Š |

### ğŸ“ˆ äº¤æ˜“ç»Ÿè®¡
| äº¤æ˜“æŒ‡æ ‡ | æ•°å€¼ | è¯´æ˜ |
|---------|------|------|
| **æ€»äº¤æ˜“æ¬¡æ•°** | 781æ¬¡ | 5.5å¹´æœŸé—´ |
| **ä¹°å…¥äº¤æ˜“** | 375æ¬¡ | ä¹°å…¥ä¿¡å·æ•°é‡ |
| **å–å‡ºäº¤æ˜“** | 406æ¬¡ | å–å‡ºä¿¡å·æ•°é‡ |
| **èƒœç‡** | 59.7% | ç›ˆåˆ©äº¤æ˜“å æ¯” |
| **ç›ˆåˆ©äº¤æ˜“** | 224æ¬¡ | æˆåŠŸäº¤æ˜“æ•°é‡ |
| **äºæŸäº¤æ˜“** | 151æ¬¡ | å¤±è´¥äº¤æ˜“æ•°é‡ |
| **æœˆå‡äº¤æ˜“é¢‘ç‡** | 11.7æ¬¡/æœˆ | äº¤æ˜“æ´»è·ƒåº¦ |
| **å¹³å‡æŒä»“æœŸ** | 30.0å¤© | å¹³å‡æŒè‚¡æ—¶é—´ |

### ğŸ’° æˆæœ¬åˆ†æ
| æˆæœ¬é¡¹ç›® | é‡‘é¢ | å æ¯” |
|---------|------|------|
| **æ€»æ‰‹ç»­è´¹** | 807,027.72å…ƒ | 0.98% |
| **æ€»å°èŠ±ç¨** | 1,386,806.68å…ƒ | 1.68% |
| **æ€»äº¤æ˜“è´¹ç”¨** | 2,193,834.40å…ƒ | 2.67% |

### ğŸ† æ ¸å¿ƒä¼˜åŠ¿
1. **å“è¶Šæ”¶ç›Š**ï¼š5.5å¹´å®ç°8132%æ€»æ”¶ç›Šï¼Œå¹´åŒ–æ”¶ç›Šç‡128.79%
2. **ä¼˜ç§€é£æ§**ï¼šæœ€å¤§å›æ’¤ä»…9.06%ï¼Œé£é™©æ§åˆ¶å‡ºè‰²
3. **é«˜èƒœç‡**ï¼š59.7%çš„èƒœç‡ï¼Œç¨³å®šç›ˆåˆ©èƒ½åŠ›å¼º
4. **é«˜æ•ˆç‡**ï¼šå¤æ™®æ¯”ç‡2.862ï¼Œé£é™©è°ƒæ•´åæ”¶ç›Šä¼˜ç§€
5. **é€‚åº”æ€§å¼º**ï¼šè·¨è¶Šç‰›ç†Šå¸‚åœºå‡è¡¨ç°ç¨³å®š

## æŠ€æœ¯å®ç°

### ğŸ”§ æ ¸å¿ƒç±»ç»“æ„
```python
class CuriousRagdollBollStrategy(BaseStrategy):
    """å¥½å¥‡å¸ƒå¶çŒ«BOLLæ‹©æ—¶ç­–ç•¥"""
    
    def __init__(self, config: StrategyConfig):
        super().__init__(config)
        self.boll_period = config.params.get('boll_period', 20)
        self.boll_std = config.params.get('boll_std', 2.0)
        self.stock_pool_size = config.params.get('stock_pool_size', 50)
        self.max_position_value = config.params.get('max_position_value', 200000)
        self.lookback_period = config.params.get('lookback_period', 10)
        
    def generate_signals(self, current_date) -> List[TradeSignal]:
        """ç”Ÿæˆäº¤æ˜“ä¿¡å·"""
        # å®ç°ä¿¡å·ç”Ÿæˆé€»è¾‘
        
    def check_buy_signal_with_data(self, stock: str, data: pd.DataFrame) -> bool:
        """æ£€æŸ¥ä¹°å…¥ä¿¡å·"""
        # å®ç°ä¹°å…¥ä¿¡å·æ£€æŸ¥
        
    def check_sell_signal_with_data(self, stock: str, data: pd.DataFrame) -> tuple[bool, str]:
        """æ£€æŸ¥å–å‡ºä¿¡å·"""
        # å®ç°å–å‡ºä¿¡å·æ£€æŸ¥
```

### ğŸ“Š æ•°æ®ä¾èµ–
```python
# ä¸»è¦æ•°æ®è¡¨
- stock_factor_pro: æŠ€æœ¯å› å­æ•°æ®
  - close, high, low, open: ä»·æ ¼æ•°æ®
  - vol, amount: æˆäº¤é‡æ•°æ®
  - boll_upper_bfq, boll_mid_bfq, boll_lower_bfq: å¸ƒæ—å¸¦æ•°æ®
  - ma_bfq_*, ema_bfq_*: ç§»åŠ¨å¹³å‡çº¿æ•°æ®
  
- stock_basic: è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯
  - ts_code, name: è‚¡ç¥¨ä»£ç å’Œåç§°
  - list_date: ä¸Šå¸‚æ—¥æœŸ
  
- index_weight: æŒ‡æ•°æˆåˆ†è‚¡
  - index_code, con_code: æŒ‡æ•°å’Œæˆåˆ†è‚¡ä»£ç 
```

## ä½¿ç”¨æŒ‡å—

### ğŸš€ å¿«é€Ÿå¼€å§‹
```bash
# 1. è¿›å…¥ç­–ç•¥ç›®å½•
cd quantitative

# 2. è¿è¡Œå®Œæ•´å›æµ‹
python test_curious_ragdoll_boll.py

# 3. æŸ¥çœ‹ç»“æœ
# è¯¦ç»†ç»“æœä¿å­˜åœ¨ curious_ragdoll_boll_backtest_results_*.json
```

### âš™ï¸ å‚æ•°é…ç½®
```python
strategy_params = {
    'boll_period': 20,           # å¸ƒæ—å¸¦å‘¨æœŸ
    'boll_std': 2.0,            # æ ‡å‡†å·®å€æ•°
    'stock_pool_size': 50,       # è‚¡ç¥¨æ± å¤§å°
    'max_position_value': 200000, # å•è‚¡æœ€å¤§æŒä»“
    'lookback_period': 10        # æ­¢æŸå›çœ‹æœŸ
}
```

### ğŸ“ˆ è‡ªå®šä¹‰ä¼˜åŒ–
- **è°ƒæ•´å¸ƒæ—å¸¦å‚æ•°**ï¼šé€‚åº”ä¸åŒå¸‚åœºæ³¢åŠ¨
- **ä¿®æ”¹è‚¡ç¥¨æ± å¤§å°**ï¼šå¹³è¡¡åˆ†æ•£åº¦å’Œé€‰æ‹©æ€§
- **ä¼˜åŒ–æ­¢æŸç­–ç•¥**ï¼šæé«˜é£é™©æ§åˆ¶æ•ˆæœ
- **å¢åŠ è¿‡æ»¤æ¡ä»¶**ï¼šæå‡è‚¡ç¥¨è´¨é‡

## ç­–ç•¥ä¼˜åŒ–å»ºè®®

### ğŸ¯ å‚æ•°ä¼˜åŒ–æ–¹å‘
1. **å¸ƒæ—å¸¦å‘¨æœŸ**ï¼šå¯å°è¯•15-25æ—¥å‘¨æœŸ
2. **æ ‡å‡†å·®å€æ•°**ï¼šå¯è°ƒæ•´1.5-2.5å€
3. **è‚¡ç¥¨æ± å¤§å°**ï¼šæ ¹æ®èµ„é‡‘è§„æ¨¡è°ƒæ•´30-100åª
4. **æ­¢æŸç­–ç•¥**ï¼šå¯å¼•å…¥åŠ¨æ€æ­¢æŸæœºåˆ¶

### ğŸ“Š å¢å¼ºåŠŸèƒ½
1. **å¤šæ—¶é—´æ¡†æ¶**ï¼šç»“åˆå‘¨çº¿ã€æœˆçº¿ä¿¡å·
2. **åŸºæœ¬é¢ç­›é€‰**ï¼šåŠ å…¥è´¢åŠ¡æŒ‡æ ‡è¿‡æ»¤
3. **æƒ…ç»ªæŒ‡æ ‡**ï¼šç»“åˆå¸‚åœºæƒ…ç»ªæ•°æ®
4. **æœºå™¨å­¦ä¹ **ï¼šä½¿ç”¨MLä¼˜åŒ–ä¿¡å·è´¨é‡

### ğŸ”„ å®ç›˜é€‚é…
1. **æ»‘ç‚¹æ§åˆ¶**ï¼šè€ƒè™‘å®é™…äº¤æ˜“æˆæœ¬
2. **æµåŠ¨æ€§ç®¡ç†**ï¼šé¿å…å†²å‡»æˆæœ¬
3. **é£é™©ç›‘æ§**ï¼šå®æ—¶é£é™©æŒ‡æ ‡ç›‘æ§
4. **èµ„é‡‘ç®¡ç†**ï¼šåŠ¨æ€ä»“ä½è°ƒæ•´

## æ³¨æ„äº‹é¡¹

### âš ï¸ é£é™©æç¤º
1. **å†å²è¡¨ç°ä¸ä»£è¡¨æœªæ¥æ”¶ç›Š**
2. **å°å¸‚å€¼è‚¡ç¥¨æ³¢åŠ¨è¾ƒå¤§**
3. **éœ€è¦å……è¶³çš„èµ„é‡‘æ”¯æŒåˆ†æ•£æŠ•èµ„**
4. **å»ºè®®ç»“åˆåŸºæœ¬é¢åˆ†æ**

### ğŸ”§ æŠ€æœ¯è¦æ±‚
- Python 3.8+
- MongoDBæ•°æ®åº“
- TuShareæ•°æ®æº
- è¶³å¤Ÿçš„è®¡ç®—èµ„æº

### ğŸ“ æŠ€æœ¯æ”¯æŒ
- ç­–ç•¥å®ç°ï¼šåŸºäºkk_stocké‡åŒ–å¹³å°
- æ•°æ®æ”¯æŒï¼šTuShareä¸“ä¸šç‰ˆ
- å›æµ‹å¼•æ“ï¼šè‡ªç ”å¢å¼ºå›æµ‹ç³»ç»Ÿ
- æŠ€æœ¯æ¶æ„ï¼šå¾®æœåŠ¡åŒ–è®¾è®¡

## ç‰ˆæœ¬å†å²

### v1.0.0 (2025-01-17)
- âœ… å®Œæˆç­–ç•¥æ ¸å¿ƒé€»è¾‘å®ç°
- âœ… é›†æˆå¢å¼ºå›æµ‹å¼•æ“
- âœ… å®ç°å¤šå¹´åº¦å†å²å›æµ‹
- âœ… å®Œå–„åŸºå‡†å¯¹æ¯”åˆ†æ
- âœ… ä¼˜åŒ–é£é™©æ§åˆ¶æœºåˆ¶

### æœªæ¥è§„åˆ’
- ğŸ”„ å®ç›˜äº¤æ˜“æ¥å£å¯¹æ¥
- ğŸ“Š å¯è§†åŒ–ç›‘æ§é¢æ¿
- ğŸ¤– æœºå™¨å­¦ä¹ ä¿¡å·ä¼˜åŒ–
- ğŸ“± ç§»åŠ¨ç«¯ç›‘æ§åº”ç”¨

---

**å¥½å¥‡å¸ƒå¶çŒ«BOLLæ‹©æ—¶ç­–ç•¥** - è®©æŠ€æœ¯åˆ†ææ›´ç²¾å‡†ï¼Œè®©æŠ•èµ„æ”¶ç›Šæ›´ç¨³å¥ï¼ ğŸ¯

> åŸºäºkk_stocké‡åŒ–å¹³å° | æ•°æ®æ¥æºï¼šTuShare | å›æµ‹å¼•æ“ï¼šè‡ªç ”å¢å¼ºç‰ˆ